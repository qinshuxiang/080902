# 程序设计

## 程序设计基础

### 程序设计语言

#### 语言的分类

低级语言:又称机器语言，是特定的计算机系统所固有的语言。用们氏级语言开发的程序，运行效率高，但开发效率低。

汇编语言:是机器语言的一种提升，使用了一些助记符来表示机器令中的操作码和操作数。

高级语言:与人们的自然语言比较接近，使用起来很方便，也极大地提高了程序设计效率。

编译程序:即编译器，将源程翻译成目标程序，然后在计算机上运行。

解释程序:即解释器，它或者直接解释执行源程序，或者将源程序番月译成某种中间代码后执行。



#### 语言的区分

结构化程序设计语言:C、PASCAL等。

面向对象程序设计语言:C十十、C#、Java等。



### Java

面向对象程序设计方法强调在软件开发过程中面向待求解问题域中的事物，即面向客观世界本身，运用人类认识客观世界的普遍思维方法，直观、准确、自然地描述客观世界中的相关事物。它把客观世界中具有相同属性或操作的一类事物抽象成类，它的基本特征主要有抽象性、继承性、封装性和多态性。其中，**继承是一个类（子类）直接使用另一个类（父类）的所有属性和方法（权限为私有的属性和方法除外），这使得面向对象程序设计语言有了良好的重用性，也是其不同于其他语言的最主要特点。**

java源代码由编译器编译成字节码存放在 class文件中。执行时，由java虚拟机(jvm)读取字节码文件翻译并执行。在Java中，垃圾回收是一个自动的进程可以替代程序员进行内存的分配与回收这些复杂的工作，Java有四种类型的垃圾回收器。Java服务器主要为应用程序提供运行环境，为组件提供服务。从功能上分为两类：WEB 应用服务器和 Java EE 应用服务器。



#### Java Vs. C++

1. 指针与内存管理
   - C++ 允许直接使用指针进行内存操作，可以动态分配和释放内存（例如使用 `new` 和 `delete`）。指针提供了灵活性，但也增加了内存泄漏、悬空指针等潜在风险。程序员需要手动管理内存，确保资源的正确释放。
   - Java 丢弃了指针的概念，采用引用（reference）来访问对象。这种方式在一定程度上提高了安全性，减少了低级错误。Java 的垃圾回收机制（Garbage Collection）自动管理内存，帮助开发者自动释放不再使用的对象，从而降低了内存管理的复杂性。
2. 变量和作用域
   - C++ 允许在全局作用域中定义变量，使用 `extern` 关键字可以在多个文件之间共享变量。这种灵活性适用于一些需要全局状态的应用场景。
   - Java 中的变量必须定义在类中，类的成员变量和方法不能在全局作用域中直接使用，增强了封装性和模块化设计。
3. 类型转换
   - C++ 支持多种类型转换
   - Java 仅支持 C-style 的强制类型转换。Java 的类型转换主要依赖于对象的运行时类型（使用 `instanceof` 关键字进行类型检查），并在需要时通过强制转换。
4.  面向对象特性
   - C++ 是多范式语言，支持面向对象、过程式编程和泛型编程。支持多重继承，即一个类可以继承多个基类。
   - Java 是纯面向对象的语言，几乎所有的代码都在类中。不支持多重继承，但可以通过接口（interface）实现类似功能。
5. 平台依赖性
   - C++ 编译生成的平台相关的机器代码，因此程序需针对特定操作系统进行编译，具有平台依赖性。
   - Java 使用字节码和 Java 虚拟机（JVM），实现“一次编写，处处运行”的特性，具有良好的跨平台能力。



#### 面向过程 Vs. 面向对象

**面向过程就是分析出解决问题所需要的步骤，然后用函数把这些步骤一步一步实现，使用的时候一个一个依次调用就可以了**，典型的语言有：Pascal，C。面向对象是把构成问题事务分解成各个对象，建立对象的目的不是为了完成一个步骤，而是为了描叙某个事物在整个解决问题的步骤中的行为，典型的语言有Eiffel，C++,Java。

**面向对象程序设计方法强调在软件开发过程中面向待求解问题域中的事物，即面向客观世界本身**，运用人类认识客观世界的普遍思维方法，直观、准确、自然地描述客观世界中的相关事物。它把客观世界中具有相同属性或操作的一类事物抽象成类，它的基本特征主要有抽象性、继承性、封装性和多态性。其中，继承是一个类（子类）直接使用另一个类（父类）的所有属性和方法（权限为私有的属性和方法除外），这使得面向对象程序设计语言有了良好的重用性，也是其不同于其他语言的最主要特点。



### 设计模式

#### 单例模式

一个类只能保证一个实例。



#### 观察者模式

发布订阅模式，一个对象状态发生改变，依赖他的其他对象也会自动刷新。



#### 工厂模式

提供创建对象接口，封装共用的方法，具体的逻辑子类可以自己去重写父类。



#### 策略模式

根据条件判断来动态选择行为和策略。



### 程序的编译

编译程序是指把用高级程序设计语言书写的**源程序**，翻译成等价的机器语言格式目标程序的翻译程序。

以高级程序设计语言书写的源程序作为输入，而以汇编语言或机器语言表示的目标程序作为输出。编译出的目标程序通常还要经历运行阶段，以便在运行程序的支持下运行，加工初始数据，算出所需的计算结果。除了基本功能之外，还应编译程序具备语法检查、调试措施、修改手段、覆盖处理、目标程序优化、不同语言合用以及人机联系等重要功能。编译过程分为分析和综合两个部分，并进一步划分为**词法分析、语法分析、语义分析、代码优化、存储分配和代码生成**等六个相继的逻辑步骤。

**词法分析**由词法分析程序（或称扫描程序）执行，其主要任务是**识别源程序中的单词，包括标识符、常数、保留字、运算符和标点符号**。词法分析的结果包括生成符号表和常数表，同时将源程序转换为编译程序易于处理的内部形式。

**语法分析**是编译程序的核心，主要根**据编程语言的语法规则检查源程序的合法性**。如果源程序不符合语法规则，则输出相应的语法错误信息；如果合乎语法，则会对程序进行结构解析，构造出中间语言形式的内部表示。语法分析的目标是理解单词如何组成语句，以及语句如何进一步构成程序。

**语义分析**则在此基础上进一步**检查程序结构的语义正确性，确保标识符和常数的正确使用**。此阶段收集必要的信息并将其保存到符号表或中间语言程序中，同时进行相应的语义处理，以保证程序的逻辑一致性。

在综合阶段，编译器依据符号表和中间语言程序生成目标程序。该阶段的主要工作包括代码优化、存储分配和代码生成。**代码优化**通过重排和修改程序中的某些操作，提高目标程序的效率；**存储分配**负责为程序和数据分配运行时的存储单元；**代码生成**则是将中间语言程序转化为目标程序，产生与之等价的汇编语言或机器语言指令，确保程序在目标平台上能够正确运行。

通过这些步骤，编译器能够将高层语言程序有效地转换为可执行的机器代码，确保程序的语法和语义正确性，同时优化执行效率。



## 结构化控制

顺序结构、选择结构、循环结构。

首要保证清晰，其次保障效率。